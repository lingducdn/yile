(window.webpackJsonp=window.webpackJsonp||[]).push([["members"],{"1bbd":function(e,t,l){"use strict";l.r(t);var a={name:"Members",data:function(){return{breadList:[{name:"会员管理",id:"1"}],total:0,form:{page:1,list_rows:10,status:0,account:"",mobile:"",level:0},tableData:[],options:[],theme_rgba:localStorage.getItem("theme_rgba"),dialogTitle1:"",dialogVisible1:!1,ruleForm1:{amount:null,note:null},rules1:{amount:[{required:!0,message:"请输入金额",trigger:"blur"}]}}},mounted:function(){this.getData(),this.getOptions()},methods:{getData:function(){var e=this;this.$http.customerManagePaging(this.form).then((function(t){0===t.code?(e.tableData=t.data.infos,e.total=t.data.count):e.$message({message:t.message,type:"error"})}))},pagination:function(e){this.form.page=e.page,this.form.list_rows=e.limit,this.getData()},getOptions:function(){var e,t=JSON.parse(localStorage.getItem("sysConfig"));for(e in this.options=[],t.customer_level)0!==e&&this.options.push({index:parseInt(e),as:t.customer_level[e].as,price:t.customer_level[e].price})},addAanDel:function(e){this.dialogTitle1="手动充值",this.ruleForm1.id=e.id,this.dialogVisible1=!0},resetPopupData1:function(e){this.$refs[e].resetFields(),this.ruleForm1={amount:null,note:null},this.dialogVisible1=!1},submitPopupData1:function(e){var t=this;this.$refs[e].validate((function(l){l&&(t.ruleForm1.amount=parseFloat(t.ruleForm1.amount),t.$http.customerManageRecharge(t.ruleForm1).then((function(l){0===l.code?(t.$message({message:"充值成功",type:"success"}),t.dialogVisible1=!1,t.$refs[e].resetFields(),t.ruleForm1={amount:null,note:null},t.getData()):t.$message({message:l.message,type:"error"})})))}))}}};l=l("2877"),l=Object(l.a)(a,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"members"},[l("breadcrumb",{attrs:{"bread-list":e.breadList}}),l("el-card",{staticClass:"box-card"},[l("el-form",{ref:"form",staticClass:"box-card1",attrs:{model:e.form,inline:!0,size:e.terminal}},[l("el-form-item",[l("el-select",{attrs:{placeholder:"会员状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",e._n(t))},expression:"form.status"}},[l("el-option",{attrs:{label:"全部",value:0}}),l("el-option",{attrs:{label:"正常",value:2}}),l("el-option",{attrs:{label:"锁定",value:1}})],1)],1),l("el-form-item",[l("el-select",{attrs:{placeholder:"会员等级"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",e._n(t))},expression:"form.level"}},[l("el-option",{attrs:{label:"全部",value:0}}),e._l(e.options,(function(e){return l("el-option",{key:e.index,attrs:{label:e.as,value:e.index}})}))],2)],1),l("el-form-item",[l("el-input",{attrs:{placeholder:"账号",clearable:""},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),l("el-form-item",[l("el-input",{attrs:{placeholder:"手机号",clearable:""},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",plain:""},on:{click:e.getData}},[e._v(" 搜索 ")])],1)],1),[l("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:"","tooltip-effect":"light",data:e.tableData,"header-cell-style":{background:e.theme_rgba,color:"#363636"}}},[l("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"id",label:"会员编号",width:"100"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"account",label:"账号"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"name",label:"昵称"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"mobile",label:"手机号"}}),l("el-table-column",{attrs:{label:"会员等级",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.options,(function(a,o){return l("span",{key:o},[t.row.level===parseInt(o)+1?l("span",[e._v(e._s(a.as))]):e._e()])}))}}])}),l("el-table-column",{attrs:{label:"状态",align:"center",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[2===t.row.status?l("span",{staticStyle:{color:"#F56C6C"}},[l("i",{staticClass:"el-icon-lock"})]):e._e(),1===t.row.status?l("span",{staticStyle:{color:"#409EFF"}},[l("i",{staticClass:"el-icon-unlock"})]):e._e()]}}])}),l("el-table-column",{attrs:{label:"开通时间",align:"center",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("formatTimer")(t.row.create_time))+" ")]}}])}),l("el-table-column",{attrs:{label:"操作",width:"120",align:"center",fixed:"mini"!==e.terminal&&"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.addAanDel(t.row)}}},[e._v(" 加款 ")])]}}])})],1)],10<e.total?l("pagination",{attrs:{total:e.total,page:e.form.page,limit:e.form.list_rows,"page-sizes":[10,20,50,100]},on:{"update:page":function(t){return e.$set(e.form,"page",t)},"update:limit":function(t){return e.$set(e.form,"list_rows",t)},pagination:e.pagination}}):e._e()],2),l("popup",{attrs:{"dialog-title":e.dialogTitle1,visible:e.dialogVisible1,"popup-width":"550px"},on:{"update:visible":function(t){e.dialogVisible1=t},resetPopupData:function(t){return e.resetPopupData1("ruleForm1")},submitPopupData:function(t){return e.submitPopupData1("ruleForm1")},handleClose:function(t){return e.resetPopupData1("ruleForm1")}}},[l("div",[l("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{title:"请仔细检查,再进行操作!",type:"warning","show-icon":"",closable:!1}}),l("el-form",{ref:"ruleForm1",attrs:{model:e.ruleForm1,rules:e.rules1,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"金额",prop:"amount"}},[l("el-input",{attrs:{type:"number"},model:{value:e.ruleForm1.amount,callback:function(t){e.$set(e.ruleForm1,"amount",e._n(t))},expression:"ruleForm1.amount"}})],1),l("el-form-item",{attrs:{label:"备注",prop:"note"}},[l("el-input",{model:{value:e.ruleForm1.note,callback:function(t){e.$set(e.ruleForm1,"note",t)},expression:"ruleForm1.note"}})],1)],1)],1)])],1)}),[],!1,null,null,null);t.default=l.exports}}]);