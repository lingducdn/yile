(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-76a16b54"],{"31d6":function(t,e){t.exports="data:image/png;base64,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"},"4cb2e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAACaBAMAAACj0UwkAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAPUExURf/48P5xD//o1P/Clf6PQlB3EHsAAAHbSURBVGje7dhtsoIgFAZgwhZwSRZABxdQ6ga09r+mK6Yofo2cw0w/Ou+/anwGeYEsITgcDofD4XA4tGRVSq2qHj+ipZ039D39iJZVKdtzmvmRFiwfcZyvxb7LdFihlGpTYbVyeSWx5FN9ohOcKrJRYzT5yMsmrAuxC6vCvKhlhskNscww2MnzZS64kljmIi21TGoXz31M6QR1ktbJPtfStwGp02u3TDdbdevN5pHaxR0ZGyvO7YU6uobLZxT1ev5lrTBaf2QUK6xRSM1dPe+iHV/iNPUyE9fPP275Xqbje+hiPo1YzSNuxdSKoGl/fFs//3jtZn2TENYxatnjvPY3Cl0X4TcERrv5u8tFphJoQ6F6amWudb8DqvOdtiO3o1lbQdxeEPd9LepOP1xCrVu0R5o0sXuhOdCid5ZSrLH2ZS1PqsU+11yPtPgnrmJfwzzmF3taLgSNm2s4bP41peFOxQRMnNc0AObXDLjY5dh0/3YsCENsE2h6fD/Gk/6igRs0XU4fQOzAZlyvBdjZ4UkI0wxjW2AnRwew4py2wk5xcnURPDttA0NqUILdwAB1p3sxSTUhEnImfvVSR3ZueMidmsI6AiX+Pyk5n0NjUv55zuFwOBwOh8PhcLr8A9ryrQKH1obgAAAAAElFTkSuQmCC"},"56b5":function(t,e,a){var A={"./blue/default.png":"31d6","./yellow/default.png":"4cb2e"};function i(t){return t=s(t),a(t)}function s(t){if(a.o(A,t))return A[t];throw(t=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",t}i.keys=function(){return Object.keys(A)},i.resolve=s,(t.exports=i).id="56b5"},"9e40":function(t,e,a){},ea91:function(t,e,a){"use strict";var A=a("9e40");a.n(A).a},f181:function(t,e,a){"use strict";a.r(e),a("99af"),a("4160"),a("b0c0"),a("b680"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("466d"),a("1276"),a("159b");var A={name:"Details",data:function(){return{activeStatus:"single",lcnum:1,imgurl:"",dataList:{},ruleForm:{id:parseInt(this.$route.query.id),buy_number:1,buy_params:{}},activeName:"first",show:!1,qqData:[],form1:{page:1,uin:""},textareaList:"",buy_params:[],combination:"",ruleForm1:{id:parseInt(this.$route.query.id),buys:[{buy_number:1,buy_params:{}}]},form:{page:1,list_rows:10,status:0,id:null,goods_id:parseInt(this.$route.query.id),goods_name:"",buy_params:""},dialogVisible1:!1,tableData:[],cardCodeIds:[],theme_rgba:localStorage.getItem("theme_rgba"),theme_name:localStorage.getItem("theme_name"),defaultImg:a("56b5")("./".concat(localStorage.getItem("theme_name"),"/default.png")),total:0,lottery_record_id:parseInt(this.$route.query.lottery_record_id)?parseInt(this.$route.query.lottery_record_id):null,isdisabled:!1}},mounted:function(){this.getData()},methods:{pageMin:function(t,e){1<this.form1.page?(this.form1.page--,this.getqqData(t,e)):this.$toast.fail("已经是第一页了")},getqqData:function(t,e){var a=this;t?(this.form1.uin=t,this.$http.getShuo(this.form1).then((function(t){0===t.code?(e.value=t.data[0].id,a.qqData=t.data):a.$toast.fail(t.message)}))):this.$toast.fail("请填写qq号")},onConfirm:function(t,e){e.value=t,e.is_default=!1;var a=1;this.dataList.buy_params.forEach((function(t){!t.value||7!==t.type&&8!==t.type||(a*=parseInt(t.value))})),this.lcnum=a},lcchange:function(){var t=1;this.dataList.buy_params.forEach((function(e){!e.value||7!==e.type&&8!==e.type||(t*=parseInt(e.value))})),this.lcnum=t},getData:function(){var t=this;this.$http.getGoods({id:parseInt(this.$route.query.id)}).then((function(e){0===e.code?(0===e.data.image_urls.length?t.imgurl=a("56b5")("./".concat(localStorage.getItem("theme_name"),"/default.png")):t.imgurl=e.data.image_urls[0],t.dataList=e.data,t.buy_params=e.data.buy_params):t.dataList=!1})),this.form.id=this.form.id||null,this.$http.orderPaging(this.form).then((function(e){0===e.code?(t.total=e.data.count,t.tableData=e.data.infos,t.loading=!1):t.$message({message:e.message,type:"error"})})),this.$route.query.lottery_record_id&&this.gerrecordRecord()},gerrecordRecord:function(){var t=this;this.$http.recordRecord({id:this.lottery_record_id}).then((function(e){0===e.code?e.data.lottery_prize_goods_buy_number&&(t.ruleForm.buy_number=e.data.lottery_prize_goods_buy_number,t.isdisabled=!0):t.$message({message:e.message,type:"error"})}))},pagination:function(t){this.form.page=t.page,this.form.list_rows=t.limit,this.getData()},isStatus:function(t){return 1===t?"已付款":2===t?"待处理":3===t?"处理中":4===t?"补单中":5===t?"退单中":6===t?"已完成":7===t?"已退单":8===t?"已退款":9===t?"有异常":void 0},isReturn:function(t){var e=this;this.$dialog.confirm({title:"退单",message:"是否确认退单?"}).then((function(){e.$http.statusHandle({status:5,id:t}).then((function(t){0===t.code?(e.$toast.success("申请退单成功，请耐心等待系统处理。"),e.getData()):e.$toast.fail(t.message)}))}))},onCopy:function(){this.$toast.success("复制成功")},collection:function(t){var e=this;t?this.$http.collectDel({goods_id:parseInt(this.$route.query.id)}).then((function(t){0===t.code?(e.$toast.success("取消收藏成功"),e.getData()):e.$toast.fail(t.info)})):this.$http.collectAdd({goods_id:parseInt(this.$route.query.id)}).then((function(t){0===t.code?(e.$toast.success("收藏成功"),e.getData()):e.$toast.fail(t.info)}))},onClickLeft:function(){this.$router.go(-1)},pay:function(){var t,e=this;1!==this.dataList.buy_rate&&this.ruleForm.buy_number%this.dataList.buy_rate!=0?this.$toast.fail("购买数量必须是".concat(this.dataList.buy_rate,"的整数倍")):(this.dataList.buy_params&&0!==this.dataList.buy_params.length&&this.dataList.buy_params.forEach((function(t){if(0!==t.verify.min)if(7===t.type||8===t.type){if(t.value<t.verify.min)throw e.$toast.fail("".concat(t.name,"必须大于或等于").concat(t.verify.min)),new Error("EndIterative")}else if(t.value.length<t.verify.min)throw e.$toast.fail("".concat(t.name,"长度必须大于或等于").concat(t.verify.min)),new Error("EndIterative");if(0!==t.verify.max)if(7===t.type||8===t.type){if(t.value>t.verify.max)throw e.$toast.fail("".concat(t.name,"必须小于或等于").concat(t.verify.max)),new Error("EndIterative")}else if(t.value.length>t.verify.max)throw e.$toast.fail("".concat(t.name,"长度必须小于或等于").concat(t.verify.max)),new Error("EndIterative");9===t.type&&""===t.value&&(t.value=!1);var a=t.key;if(e.ruleForm.buy_params[a]=t.value.toString(),!e.ruleForm.buy_params[a])throw e.$toast.fail("参数不能为空"),new Error("EndIterative");if(a=new RegExp("[\\u4E00-\\u9FFF]+","g"),61===t.type&&a.test(t.value))throw e.$toast.fail("链接中不能含有文字"),new Error("EndIterative")})),this.show=!1,t={id:(t=this.ruleForm).id,buy_number:t.buy_number,buy_params:t.buy_params},this.lottery_record_id&&(t.lottery_record_id=this.lottery_record_id),this.$http.buy(t).then((function(t){0===t.code?(e.$toast.success("购买成功"),e.$router.push({name:"order"})):e.$toast.fail(t.message)})))},extract:function(t){var e=this,a=/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g;t.value.match(a)||this.$toast.fail("未检测到链接"),61===t.type?t.value=t.value.match(a).toString():62===t.type&&this.$http.urlParse({url:t.value.match(a).toString()}).then((function(a){0===a.code?t.value=a.data:e.$toast.fail(a.message)}))},payShow:function(){if(1===this.dataList.is_close)return this.$toast.fail("该商品已停止销售, 无法购买!!!"),!1;this.show=!0},inputValue:function(t){var e=/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g;if(!t.value.match(e)||!t.value.match(/[\u4E00-\u9FA5]/g))return!1;t.value=t.value.match(e).toString()},bulkOrder:function(){var t,e,a,A,i,s,o=this;this.textareaList.length?(this.buy_params.length&&(t="",this.buy_params.forEach((function(e,a){0===a?t+=e.name:t=t+"----"+e.name})),this.textarea="下单数量----"+t+"\n"+this.textareaList),this.ruleForm1.buys=[],e=[],e=this.textareaList.split("\n"),a=[],e.forEach((function(t){4<t.length&&a.push(t.split("----"))})),A=["buy_number"],this.buy_params.forEach((function(t){A.push(t.key)})),i=[],a.forEach((function(t){var e={};A.forEach((function(a,A){e[a]=t[A]})),i.push(e)})),s=0,i.forEach((function(t){var e,a={buy_number:1,buy_params:{}};for(e in t)"buy_number"===e?(a.buy_number=parseInt(t[e]),s+=a.buy_number):a.buy_params[e]=t[e];o.ruleForm1.buys.push(a)})),this.combination=(this.dataList.price*s).toFixed(6),this.$dialog.confirm({title:"批量下单",message:"是否确定花费".concat(this.combination,"下单?")}).then((function(){o.$http.homeBuyIn(o.ruleForm1).then((function(t){0===t.code?(o.$toast.success("购买成功"),o.show=!1):o.$toast.fail(t.message)}))}))):this.$toast.fail("请输入下单参数")},paramsFiltra:function(t){var e=[];return t.forEach((function(t){!1===t.is_default&&e.push(t)})),e[0].value}}},i=(a("ea91"),a("2877"));i=Object(i.a)(A,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"details"},[t.dataList?a("div",[a("van-nav-bar",{attrs:{title:"商品详情","left-arrow":""},on:{"click-left":t.onClickLeft}}),a("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},[a("van-swipe-item",[a("div",{staticStyle:{"text-align":"center","background-color":"#f4f4f4",height:"200px"}},[a("el-image",{staticStyle:{"text-align":"center",height:"100%"},attrs:{src:t.imgurl,fit:"contain"}},[a("div",{attrs:{slot:"error"},slot:"error"},[a("img",{staticStyle:{"text-align":"center",height:"100%"},attrs:{src:t.defaultImg}})])])],1)])],1),a("div",{staticStyle:{padding:"20px 15px 0 15px"}},[a("div",{staticStyle:{"font-size":"16px",color:"#252B3A","font-weight":"600","line-height":"16px","font-family":"PingFangHK-Medium, PingFangHK"}},[t._v(" "+t._s(t.dataList.name)+" ")]),a("div",{staticStyle:{"background-color":"#F6F8FA",margin:"15px 0",padding:"10px","border-radius":"10px"}},[a("div",{staticStyle:{"line-height":"25px"}},[a("span",{staticClass:"title"},[t._v("商品单价")]),a("span",{staticStyle:{color:"#FF541E"}},[a("span",{staticStyle:{"font-size":"14px","margin-left":"10px"}},[t._v("¥")]),1<t.dataList.price_show_num?a("span",{staticStyle:{"font-size":"18px"}},[t._v(" "+t._s((t.dataList.price*t.dataList.price_show_num).toFixed(6))+"元 "),a("span",{staticStyle:{"font-size":"14px",color:"#F8393E"}},[t._v(" / "+t._s(t.dataList.price_show_num+t.dataList.unit))])]):a("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.dataList.price.toFixed(6))+"元 "),a("span",{staticStyle:{"font-size":"12px",color:"#F8393E"}},[t._v(t._s(t.dataList.unit?"/"+t.dataList.price_show_num+t.dataList.unit:""))])]),t.dataList.is_close_price?a("el-tag",{staticStyle:{transform:"translate(10px, -2px)"},attrs:{type:"danger",effect:"dark",size:"mini"}},[t._v("密价")]):t._e()],1)]),a("div",{staticStyle:{"line-height":"25px"}},[a("span",{staticClass:"title"},[t._v("商品库存")]),a("span",{staticClass:"content"},[t._v(t._s(-1===t.dataList.stock?"无限制":t.dataList.stock))])]),a("div",{staticStyle:{"line-height":"25px"}},[a("span",{staticClass:"title"},[t._v("最小下单")]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.dataList.buy_min_limit))])]),a("div",{staticStyle:{"line-height":"25px"}},[a("span",{staticClass:"title"},[t._v("最大下单")]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(0===t.dataList.buy_max_limit?"无限制":t.dataList.buy_max_limit))])]),1===t.dataList.is_close?a("div",{staticStyle:{"line-height":"25px"}},[a("span",{staticStyle:{color:"#ee0a24","font-weight":"600","line-height":"20px"}},[t._v("注: 该商品已停止销售!")])]):t._e()])]),a("div",{staticClass:"box",staticStyle:{padding:"0 15px"}},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"商品详情",name:"first"}},[a("div",{staticStyle:{"margin-top":"10px","min-height":"300px"},domProps:{innerHTML:t._s(t.dataList.particulars)}})]),a("el-tab-pane",{attrs:{label:"历史订单",name:"second"}},[a("el-form",{ref:"form",attrs:{model:t.form,size:"mini",inline:"true"}},[a("el-form-item",[a("el-select",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-option",{attrs:{label:"全部",value:0}}),a("el-option",{attrs:{label:"已付款",value:1}}),a("el-option",{attrs:{label:"待处理",value:2}}),a("el-option",{attrs:{label:"处理中",value:3}}),a("el-option",{attrs:{label:"补单中",value:4}}),a("el-option",{attrs:{label:"退单中",value:5}}),a("el-option",{attrs:{label:"已完成",value:6}}),a("el-option",{attrs:{label:"已退单",value:7}}),a("el-option",{attrs:{label:"已退款",value:8}}),a("el-option",{attrs:{label:"有异常",value:9}})],1)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"下单参数",clearable:""},model:{value:t.form.buy_params,callback:function(e){t.$set(t.form,"buy_params",e)},expression:"form.buy_params"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.getData}},[t._v("搜索")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:"","tooltip-effect":"light",data:t.tableData,"header-cell-style":{background:t.theme_rgba,color:"#363636"}}},[a("el-table-column",{attrs:{label:"订单状态",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"success"}},[t._v(" "+t._s(t.isStatus(e.row.status))+" ")]):t._e(),2===e.row.status?a("el-tag",{attrs:{effect:"dark",color:"#816bff",size:"mini",type:"info"}},[t._v(" "+t._s(t.isStatus(e.row.status))+" ")]):t._e(),3===e.row.status?a("el-tag",{attrs:{effect:"dark",color:"#15559a",size:"mini",type:"info"}},[t._v(" "+t._s(t.isStatus(e.row.status))+" ")]):t._e(),4===e.row.status?a("el-tag",{attrs:{effect:"dark",color:"#1677b3",size:"mini",type:"info"}},[t._v(" "+t._s(t.isStatus(e.row.status))+" ")]):t._e(),5===e.row.status?a("el-tag",{attrs:{effect:"dark",color:"#e4bf11",size:"mini",type:"info"}},[t._v(" "+t._s(t.isStatus(e.row.status))+" ")]):t._e(),6===e.row.status?a("el-tag",{attrs:{effect:"dark",size:"mini"}},[t._v(" "+t._s(t.isStatus(e.row.status))+" ")]):t._e(),7===e.row.status?a("el-tag",{attrs:{effect:"dark",color:"#333333",size:"mini",type:"info"}},[t._v(" "+t._s(t.isStatus(e.row.status))+" ")]):t._e(),8===e.row.status?a("el-tag",{attrs:{effect:"dark",color:"#5c2223",size:"mini",type:"info"}},[t._v(" "+t._s(t.isStatus(e.row.status))+" ")]):t._e(),9===e.row.status?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"danger"}},[t._v(" "+t._s(t.isStatus(e.row.status))+" ")]):t._e()]}}],null,!1,1267095258)}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",property:"id",label:"编号",align:"center"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center","show-overflow-tooltip":"",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"}},[t._v(t._s(e.row.goods_name))])]}}],null,!1,148104204)}),a("el-table-column",{attrs:{label:"下单参数",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.buy_params.length?a("span",[a("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[t._l(e.row.buy_params,(function(e,A){return a("div",{key:A},[!1===e.is_default?a("div",[t._v(" "+t._s(e.name)+": "+t._s(e.value)+" "),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:""+e.value,expression:"`${item.value}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],attrs:{type:"text"}},[t._v("复制")])],1):t._e()])})),a("div",{staticStyle:{"white-space":"nowrap",color:"#409EFF",cursor:"pointer"},attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v(t._s(t.paramsFiltra(e.row.buy_params)))])],2)],1):a("span",[t._v("-")])]}}],null,!1,2794378060)}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",property:"start_num",label:"开始",align:"center",width:"100"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",property:"current_num",label:"当前",align:"center",width:"100"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",property:"buy_number",label:"下单数量",align:"center",width:"100"}}),a("el-table-column",{attrs:{label:"下单金额",align:"center",width:"160","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#F56C6C",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t._v(" "+t._s(parseFloat(e.row.amount).toFixed(6))+" "),e.row.refund_amount?a("span",[t._v("(已退: "+t._s(e.row.refund_amount.toFixed(6))+")")]):t._e()])]}}],null,!1,219629215)}),a("el-table-column",{attrs:{label:"下单时间",align:"center",width:"140","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("formatTimer")(e.row.create_time))+" ")]}}],null,!1,2622578286)}),a("el-table-column",{attrs:{label:"备注",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.remark)+" ")]}}],null,!1,363227647)}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},t._l(e.row.status_changes,(function(e,A){return a("div",{key:A},[t._v(" "+t._s(t._f("formatTimer")(e.At))+" "+t._s(e.Name)+" ")])})),0),a("el-button",{attrs:{type:"text"}},[t._v(" 状态 ")])],1),e.row.goods_refund_status&&e.row.goods_refund_status.includes(e.row.status)?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.isReturn(e.row.id)}}},[t._v(" 退单 ")]):t._e(),1===e.row.is_card_code?a("el-button",{attrs:{slot:"reference",type:"text"},on:{click:function(a){t.cardCodeIds=e.row.card_code_ids,t.dialogVisible1=!0}},slot:"reference"},[t._v(" 卡密 ")]):t._e()]}}],null,!1,1741105271)})],1),10<t.total?a("pagination",{staticStyle:{"margin-bottom":"60px"},attrs:{total:t.total,page:t.form.page,limit:t.form.list_rows,"page-sizes":[10,20,50,100]},on:{"update:page":function(e){return t.$set(t.form,"page",e)},"update:limit":function(e){return t.$set(t.form,"list_rows",e)},pagination:t.pagination}}):t._e()],1)],1)],1),a("van-goods-action",[a("van-goods-action-icon",{attrs:{icon:t.dataList.is_collect?"star":"star-o",text:"收藏",color:"blue"===t.theme_name?"#5388FF":"#FF710F"},on:{click:function(e){return t.collection(t.dataList.is_collect)}}}),a("van-goods-action-button",{attrs:{type:"danger",color:"blue"===t.theme_name?"linear-gradient(90deg, #8ABBFF 0%, #5388FF 100%)":"linear-gradient(90deg, #555 0%, #282828 100%)",text:t.lottery_record_id?"立即兑换":"立即购买"},on:{click:t.payShow}})],1),a("van-action-sheet",{attrs:{title:"购买商品",closeable:!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-notice-bar",{attrs:{"left-icon":"volume-o",text:"请仔细核对信息,再进行操作!"}}),1===t.dataList.is_batch?a("van-tabs",{attrs:{color:"blue"===t.theme_name?"#5388ff":"#282828",type:"card"},model:{value:t.activeStatus,callback:function(e){t.activeStatus=e},expression:"activeStatus"}},[a("van-tab",{attrs:{title:"单独下单",name:"single"}}),a("van-tab",{attrs:{title:"批量下单",name:"multiple"}})],1):t._e(),"single"===t.activeStatus?a("van-form",[a("div",{staticStyle:{padding:"20px 0"}},[1!==t.dataList.buy_min_limit||1!==t.dataList.buy_max_limit?a("van-field",{attrs:{label:"购买数量"},scopedSlots:t._u([{key:"input",fn:function(){return[a("van-stepper",{attrs:{"input-width":"100",min:t.dataList.buy_min_limit,max:0===t.dataList.buy_max_limit?99999999:t.dataList.buy_max_limit,integer:"",disabled:t.isdisabled},model:{value:t.ruleForm.buy_number,callback:function(e){t.$set(t.ruleForm,"buy_number",e)},expression:"ruleForm.buy_number"}})]},proxy:!0}],null,!1,3675207844)}):t._e(),t.dataList.buy_rate&&1!==t.dataList.buy_rate?a("div",{staticStyle:{"font-size":"14px",color:"#F8393E","margin-left":"15px"}},[t._v(" 注：购买数量必须是"+t._s(t.dataList.buy_rate)+"的整数倍 ")]):t._e(),t._l(t.dataList.buy_params,(function(e){return a("span",{key:e.key},[1===e.type||4===e.type||6===e.type||21===e.type||22===e.type||23===e.type?a("span",[a("van-field",{attrs:{label:e.name,placeholder:e.description},on:{input:function(a){return t.inputValue(e)}},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1):t._e(),2===e.type?a("span",[a("van-field",{attrs:{rows:"2",autosize:"",label:e.name,type:"textarea",placeholder:e.description},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1):t._e(),3===e.type?a("span",[a("van-field",{attrs:{label:e.name},scopedSlots:t._u([{key:"input",fn:function(){return[a("van-field",{attrs:{readonly:"",clickable:"",value:e.value,placeholder:e.description},on:{click:function(t){e.is_default=!0}}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.is_default,callback:function(a){t.$set(e,"is_default",a)},expression:"item.is_default"}},[a("van-picker",{attrs:{"show-toolbar":"",title:e.description,columns:e.type_config.split(",")},on:{confirm:function(a){return t.onConfirm(a,e)},cancel:function(t){e.is_default=!1}}})],1)]},proxy:!0}],null,!0)})],1):t._e(),5===e.type?a("span",[a("van-field",{attrs:{label:e.name},scopedSlots:t._u([{key:"input",fn:function(){return[a("el-select",{attrs:{size:"small",multiple:"",placeholder:e.description},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}},t._l(e.type_config.split(","),(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)]},proxy:!0}],null,!0)})],1):t._e(),7===e.type?a("span",[a("van-field",{attrs:{label:e.name,placeholder:e.description},on:{input:t.lcchange},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1):t._e(),8===e.type?a("span",[a("van-field",{attrs:{label:e.name},scopedSlots:t._u([{key:"input",fn:function(){return[a("van-field",{attrs:{readonly:"",clickable:"",value:e.value,placeholder:e.description},on:{click:function(t){e.is_default=!0}}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.is_default,callback:function(a){t.$set(e,"is_default",a)},expression:"item.is_default"}},[a("van-picker",{attrs:{"show-toolbar":"",title:e.description,columns:e.type_config.split(",")},on:{confirm:function(a){return t.onConfirm(a,e)},cancel:function(t){e.is_default=!1}}})],1)]},proxy:!0}],null,!0)})],1):t._e(),9===e.type?a("span",[a("van-field",{attrs:{label:e.name},scopedSlots:t._u([{key:"input",fn:function(){return[9===e.type?a("el-switch",{model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}}):t._e()]},proxy:!0}],null,!0)})],1):t._e(),61===e.type||62===e.type?a("span",[a("van-field",{attrs:{label:e.name,placeholder:e.description},scopedSlots:t._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small",color:"#5388FF"},on:{click:function(a){return t.extract(e)}}},[t._v("提取")])]},proxy:!0}],null,!0),model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1):t._e(),63===e.type?a("span",[a("van-field",{attrs:{label:e.name,placeholder:e.description,disabled:""},scopedSlots:t._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small"},on:{click:function(a){return t.getqqData(t.dataList.buy_params[0].value,e)}}},[t._v("获取")])]},proxy:!0}],null,!0),model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}}),t.qqData.length?a("div",{staticStyle:{"margin-top":"5px"}},[a("el-button",{staticStyle:{padding:"9px 10px",transform:"translate(2px)"},attrs:{icon:"el-icon-arrow-left",size:"small",plain:""},on:{click:function(a){return t.pageMin(t.dataList.buy_params[0].value,e)}}}),a("el-select",{staticStyle:{width:"calc(100vw - 68px)"},attrs:{size:"small"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}},t._l(t.qqData,(function(t,e){return a("el-option",{key:e,attrs:{label:t.val,value:t.id}})})),1),a("el-button",{staticStyle:{padding:"9px 10px",transform:"translate(-2px)"},attrs:{icon:"el-icon-arrow-right",size:"small",plain:""},on:{click:function(a){t.form1.page++,t.getqqData(t.dataList.buy_params[0].value,e)}}})],1):t._e()],1):t._e()])}))],2),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",color:"blue"===t.theme_name?"linear-gradient(90deg, #8ABBFF 0%, #5388FF 100%)":"linear-gradient(90deg, #555 0%, #282828 100%)","native-type":"submit"},on:{click:t.pay}},[t._v(" "+t._s(t.lottery_record_id?"确认兑换":"确认订单¥"+(t.dataList.price*t.ruleForm.buy_number*t.lcnum).toFixed(6))+" ")])],1)]):t._e(),"multiple"===t.activeStatus?a("div",{staticStyle:{padding:"10px 15px"}},[a("div",{staticStyle:{color:"#666"}},[t.dataList.buy_rate&&1!==t.dataList.buy_rate?a("div",{staticStyle:{color:"#F8393E"}},[t._v(" 注：购买数量必须是"+t._s(t.dataList.buy_rate)+"的整数倍 ")]):t._e(),a("div",[t._v(" 批量下单格式为  购买数量"),t._l(t.dataList.buy_params,(function(e){return a("span",{key:e.id,staticStyle:{padding:"10px 0"}},[a("span",{staticStyle:{display:"inline-block"}},[t._v("----"+t._s(e.name))])])})),t._v("  "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[t._v(" 1. 必须满足格式要求,否则无法下单成功 ")]),a("div",[t._v(" 2. 必须一行一条数据, 否则无法下单成功 ")]),a("div",[t._v(" 3. 批量下单,依然要满足下单基数需求 ")])]),a("i",{staticClass:"el-icon-info",staticStyle:{color:"black"}})])],2)]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-form",[a("el-form-item",[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"一行一条数据"},model:{value:t.textareaList,callback:function(e){t.textareaList=e},expression:"textareaList"}})],1)],1),a("div",[a("van-button",{attrs:{round:"",block:"",color:"blue"===t.theme_name?"linear-gradient(90deg, #8ABBFF 0%, #5388FF 100%)":"linear-gradient(90deg, #555 0%, #282828 100%)","native-type":"submit"},on:{click:t.bulkOrder}},[t._v(" 批量下单 ")])],1)],1)]):t._e()],1)],1):a("div",[a("van-nav-bar",{attrs:{title:"商品详情","left-arrow":""},on:{"click-left":t.onClickLeft}}),a("van-empty",{attrs:{image:"error",description:"该商品已删除"}})],1),a("popup",{attrs:{"dialog-title":"卡密信息",visible:t.dialogVisible1,"popup-width":"550px"},on:{"update:visible":function(e){t.dialogVisible1=e},resetPopupData:function(e){t.dialogVisible1=!1},submitPopupData:function(e){t.dialogVisible1=!1},handleClose:function(e){t.dialogVisible1=!1}}},[a("div",{staticStyle:{"max-height":"800px",overflow:"auto","padding-right":"10px"}},t._l(t.cardCodeIds,(function(e,A){return a("div",{key:A,staticStyle:{color:"#999","line-height":"24px",display:"flex","justify-content":"space-between"}},[a("div",[t._v(t._s(e)+" ")]),a("div",[a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e,expression:"item",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticStyle:{"padding-left":"100px",cursor:"pointer"},style:{color:t.theme_color},attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("复制")])])])})),0),a("div",[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.cardCodeIds.join("\n"),expression:"cardCodeIds.join('\\n')",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticStyle:{"margin-top":"20px"},attrs:{type:"text"}},[t._v(" 复制全部 ")])],1)])],1)}),[],!1,null,null,null);e.default=i.exports}}]);