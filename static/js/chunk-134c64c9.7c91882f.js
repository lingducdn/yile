(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-134c64c9"],{"033c":function(t,e,a){},3201:function(t,e,a){"use strict";var n=a("033c");a.n(n).a},"681b":function(t,e,a){"use strict";a.r(e),a("99af");var n={name:"Substation",data:function(){return{dataInfo:null,workbench:"",isprice:0,domain:"",options:[],tableData:{},version:{v1:[{name:"开通搭建分站",value:!0},{name:"专属社区平台",value:!0},{name:"在线支付接口",value:!0},{name:"站点用户管理",value:!0},{name:"赚取二级返利",value:!0},{name:"赚取用户差价",value:!0},{name:"自定义LOGO",value:!0},{name:"开通分站提成",value:!0},{name:"自定义网站名",value:!0},{name:"专属管理后台",value:!0},{name:"自定网站域名",value:!0},{name:"普通低价货源",value:!0},{name:"会员密价设置",value:!1},{name:"赚取分站差价",value:!1}],v2:[{name:"开通搭建分站",value:!0},{name:"专属社区平台",value:!0},{name:"在线支付接口",value:!0},{name:"站点用户管理",value:!0},{name:"赚取二级返利",value:!0},{name:"赚取用户差价",value:!0},{name:"自定义LOGO",value:!0},{name:"开通分站提成",value:!0},{name:"自定义网站名",value:!0},{name:"专属管理后台",value:!0},{name:"自定网站域名",value:!0},{name:"专业低价货源",value:!0},{name:"会员密价设置",value:!0},{name:"赚取分站差价",value:!1}],v3:[{name:"开通搭建分站",value:!0},{name:"专属社区平台",value:!0},{name:"在线支付接口",value:!0},{name:"站点用户管理",value:!0},{name:"赚取二级返利",value:!0},{name:"赚取用户差价",value:!0},{name:"自定义LOGO",value:!0},{name:"开通分站提成",value:!0},{name:"自定义网站名",value:!0},{name:"专属管理后台",value:!0},{name:"自定网站域名",value:!0},{name:"旗舰低价货源",value:!0},{name:"会员密价设置",value:!0},{name:"赚取分站差价",value:!0}]},ruleForm1:{sid:1,num:1,name:"",title:"",domain:"",qz:"",main_domain:""},ruleForm2:{sid:1},ruleForm3:{num:1},dataList:{},show1:!1,show2:!1,show3:!1,showPicker1:!1,showPicker2:!1,value1:"",value2:"",columns2:[],theme_name:localStorage.getItem("theme_name")}},mounted:function(){this.getList(),this.workbench=window.location.host+"/workbench"},methods:{isclose:function(){this.$router.push({path:"/blank",query:{page:this.$route.path}})},onClickRight:function(){this.$router.push({path:"/workbench"})},onClickLeft:function(){this.$router.push({path:"/my"})},getList:function(){var t,e=this,a=(this.$http.getSubstation().then((function(t){0===t.code?(e.dataList=t.data,e.dataInfo=t.data.version,e.options=[],e.$http.substationDomainList().then((function(a){if(0===a.code)for(var n in a.data)e.options.push({value:a.data[n],text:a.data[n]});else 2===t.code&&e.$toast.fail(t.message)}))):1===t.code?(e.options=[],e.$http.substationDomainList().then((function(a){if(0===a.code)for(var n in a.data)0<a.data.length&&(e.ruleForm1.main_domain=a.data[0]),e.options.push({value:a.data[n],text:a.data[n]});else 2===t.code&&e.$toast.fail(t.message)}))):e.$toast.fail(t.message)})),JSON.parse(localStorage.getItem("sysConfig")));for(t in this.tableData=a.substation_level,a.substation_level)this.dataInfo<t&&this.columns2.push({text:a.substation_level[t].as,value:t})},open:function(){this.show1=!0},upgrade:function(){this.show2=!0},renewal:function(){this.show3=!0},onConfirm1:function(t){this.value1=t.text,this.ruleForm1.sid=parseInt(t.value),this.showPicker1=!1},onConfirm2:function(t){this.value2=t.text,this.ruleForm2.sid=parseInt(t.value),this.showPicker2=!1,this.isprice=this.tableData[t.value].price-this.tableData[this.dataList.version].price},submitPopupData1:function(){var t=this;this.ruleForm1.domain="".concat(this.ruleForm1.qz,".").concat(this.ruleForm1.main_domain),this.$http.purchaseSubstation(this.ruleForm1).then((function(e){0===e.code?(t.$toast.success("开通成功"),t.$router.push({path:"/blank",query:{page:t.$route.path}})):(t.$toast.fail(e.message),t.show1=!1)}))},submitPopupData2:function(){var t=this;this.$http.upgradeSubstation(this.ruleForm2).then((function(e){0===e.code?(t.$toast.success("升级成功"),t.$router.push({path:"/blank",query:{page:t.$route.path}})):t.$toast.fail(e.message)}))},submitPopupData3:function(){var t=this;this.$http.renewSubstation(this.ruleForm3).then((function(e){0===e.code?(t.$toast.success("续费成功"),t.$router.push({path:"/blank",query:{page:t.$route.path}})):t.$toast.fail(e.message)}))}}};a("3201"),a=a("2877"),a=Object(a.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"substation"},[a("van-nav-bar",{attrs:{title:"搭建分站","left-arrow":""},on:{"click-left":t.onClickLeft}}),a("div",{staticClass:"substation_div"},[t.dataList.version?a("div",[a("div",{staticStyle:{"text-align":"center",color:"#fff",padding:"6px 0",margin:"10px 0"},style:{backgroundColor:"blue"===t.theme_name?"#5388FF":"#282828"}},[t._v(" 我的分站 ")]),a("van-cell-group",[a("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span",[t._v("站点名称")]),a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},[t._v(t._s(t.dataList.name))])]},proxy:!0}],null,!1,2999977858)}),a("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span",[t._v("站点标题")]),a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},[t._v(t._s(t.dataList.title))])]},proxy:!0}],null,!1,1274529031)}),a("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span",[t._v("站点版本")]),t.dataList.version?t._e():a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},[t._v("未开通")]),1===t.dataList.version?a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},[t._v(t._s(t.tableData[1].as))]):t._e(),2===t.dataList.version?a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},[t._v(t._s(t.tableData[2].as))]):t._e(),3===t.dataList.version?a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},[t._v(t._s(t.tableData[3].as))]):t._e()]},proxy:!0}],null,!1,1426228119)}),a("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span",[t._v("已绑域名")]),a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},t._l(t.dataList.domain_in,(function(e,n){return a("span",{key:n,staticStyle:{color:"#5388FF","margin-left":"5px"}},[t._v(t._s(e))])})),0)]},proxy:!0}],null,!1,729476949)}),a("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span",[t._v("分站前台")]),a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},[a("a",{staticStyle:{display:"inline"},attrs:{href:t.domain,target:"_blank"}},[t._v(t._s(t.domain||"--"))])])]},proxy:!0}],null,!1,1313735332)}),a("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span",[t._v("分站后台")]),a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},[a("a",{staticStyle:{display:"inline"},attrs:{href:"/workbench",target:"_blank"}},[t._v(t._s(t.workbench))])])]},proxy:!0}],null,!1,3019872909)}),a("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span",[t._v("客服 QQ")]),a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},[t._v(t._s(t.dataList.qq||"--"))])]},proxy:!0}],null,!1,3485716718)}),a("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span",[t._v("开通时间")]),a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},[t._v(t._s(t._f("formatTimer")(t.dataList.create_time)))])]},proxy:!0}],null,!1,3244853971)}),a("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span",[t._v("到期时间")]),a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},[t._v(t._s(t._f("formatTimer")(t.dataList.expire_time)))])]},proxy:!0}],null,!1,2133884913)}),a("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span",[t._v("站点描述")]),a("span",{staticStyle:{"margin-left":"20px",color:"#999"}},[t._v(t._s(t.dataList.description||"--"))])]},proxy:!0}],null,!1,1965092414)})],1)],1):t._e(),a("div",{staticStyle:{"text-align":"center",color:"#fff",padding:"6px 0",margin:"10px 0"},style:{backgroundColor:"blue"===t.theme_name?"#5388FF":"#282828"}},[t._v(" 开通分站 ")]),a("van-tabs",{attrs:{type:"card",color:"blue"===t.theme_name?"#5388FF":"#282828"}},[a("van-tab",{attrs:{title:t.tableData[1].as}},[a("div",{staticClass:"box"},[t._l(t.version.v1,(function(e){return a("div",{key:e.name,staticClass:"box1"},[a("span",{staticStyle:{"margin-right":"33%"}},[t._v(" "+t._s(e.name)+" ")]),e.value?a("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"20px"},style:{color:"blue"===t.theme_name?"#5388FF":"#282828"}}):a("i",{staticClass:"el-icon-error",staticStyle:{color:"#bbb","font-size":"20px"}})])})),a("div",{staticClass:"box3"},[t.dataList.version?t._e():a("el-button",{staticClass:"buttonColor",attrs:{type:"primary",size:"mini"},on:{click:t.open}},[t._v(" 立即开通(¥"+t._s(t.tableData[1].price)+"/年) ")]),2===t.dataList.version||3===t.dataList.version?a("el-button",{staticClass:"buttonColor",attrs:{type:"primary",size:"mini",icon:"el-icon-check",circle:""}}):t._e(),1===t.dataList.version?a("el-button",{staticClass:"buttonColor",attrs:{type:"primary",size:"mini"},on:{click:t.renewal}},[t._v(" 立即续费 ")]):t._e(),1===t.dataList.version?a("el-button",{staticClass:"buttonColor",attrs:{type:"primary",size:"mini"},on:{click:t.upgrade}},[t._v(" 立即升级 ")]):t._e()],1)],2)]),a("van-tab",{attrs:{title:t.tableData[2].as}},[a("div",{staticClass:"box"},[t._l(t.version.v2,(function(e){return a("div",{key:e.name,staticClass:"box1"},[a("span",{staticStyle:{"margin-right":"33%"}},[t._v(" "+t._s(e.name)+" ")]),e.value?a("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"20px"},style:{color:"blue"===t.theme_name?"#5388FF":"#282828"}}):a("i",{staticClass:"el-icon-error",staticStyle:{color:"#bbb","font-size":"20px"}})])})),a("div",{staticClass:"box3"},[t.dataList.version?t._e():a("el-button",{staticClass:"buttonColor",attrs:{type:"primary",size:"mini"},on:{click:t.open}},[t._v(" 立即开通(¥"+t._s(t.tableData[2].price)+"/年) ")]),1===t.dataList.version||2===t.dataList.version?a("el-button",{staticClass:"buttonColor",attrs:{type:"primary",size:"mini"},on:{click:t.upgrade}},[t._v(" 立即升级 ")]):t._e(),2===t.dataList.version?a("el-button",{staticClass:"buttonColor",attrs:{type:"primary",size:"mini"},on:{click:t.renewal}},[t._v(" 立即续费 ")]):t._e(),3===t.dataList.version?a("el-button",{staticClass:"buttonColor",attrs:{type:"primary",size:"mini",icon:"el-icon-check",circle:""}}):t._e()],1)],2)]),a("van-tab",{attrs:{title:t.tableData[3].as}},[a("div",{staticClass:"box"},[t._l(t.version.v3,(function(e){return a("div",{key:e.name,staticClass:"box1"},[a("span",{staticStyle:{"margin-right":"33%"}},[t._v(" "+t._s(e.name)+" ")]),e.value?a("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"20px"},style:{color:"blue"===t.theme_name?"#5388FF":"#282828"}}):a("i",{staticClass:"el-icon-error",staticStyle:{color:"#bbb","font-size":"20px"}})])})),a("div",{staticClass:"box3"},[t.dataList.version?t._e():a("el-button",{staticClass:"buttonColor",attrs:{type:"primary",size:"mini"},on:{click:t.open}},[t._v(" 立即开通(¥"+t._s(t.tableData[3].price)+"/年) ")]),1===t.dataList.version||2===t.dataList.version?a("el-button",{staticClass:"buttonColor",attrs:{type:"primary",size:"mini"},on:{click:t.upgrade}},[t._v(" 立即升级 ")]):t._e(),3===t.dataList.version?a("el-button",{staticClass:"buttonColor",attrs:{type:"primary",size:"mini"},on:{click:t.renewal}},[t._v(" 立即续费 ")]):t._e()],1)],2)])],1),a("van-action-sheet",{attrs:{title:"开通分站",closeable:!1},on:{close:t.isclose},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}},[a("van-notice-bar",{attrs:{"left-icon":"volume-o",text:"请仔细核对信息,再进行操作!"}}),a("van-form",[a("div",{staticStyle:{padding:"20px 0"}},[a("van-field",{attrs:{label:"购买时长(年)"},scopedSlots:t._u([{key:"input",fn:function(){return[a("van-stepper",{attrs:{min:"1"},model:{value:t.ruleForm1.num,callback:function(e){t.$set(t.ruleForm1,"num",e)},expression:"ruleForm1.num"}})]},proxy:!0}])}),a("van-field",{attrs:{readonly:"",clickable:"",value:t.value1,label:"站点版本",placeholder:"请选择站点版本",rules:[{required:!0,message:"请选择站点版本"}]},on:{click:function(e){t.showPicker1=!0}}}),a("van-popup",{attrs:{position:"bottom"},model:{value:t.showPicker1,callback:function(e){t.showPicker1=e},expression:"showPicker1"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:t.columns2},on:{confirm:t.onConfirm1,cancel:function(e){t.showPicker1=!1}}})],1),a("van-field",{attrs:{label:"站点名称",placeholder:"请输入站点名称",rules:[{required:!0,message:"请输入站点名称"}]},model:{value:t.ruleForm1.name,callback:function(e){t.$set(t.ruleForm1,"name",e)},expression:"ruleForm1.name"}}),a("van-field",{attrs:{label:"站点标题",placeholder:"请输入站点标题",rules:[{required:!0,message:"请输入站点标题"}]},model:{value:t.ruleForm1.title,callback:function(e){t.$set(t.ruleForm1,"title",e)},expression:"ruleForm1.title"}}),a("van-field",{attrs:{label:"站点域名",placeholder:"请输入站点域名",rules:[{required:!0,message:"请输入站点域名"}],onkeyup:"value=value.replace(/[\\u4e00-\\u9fa5]/ig,'')"},scopedSlots:t._u([{key:"button",fn:function(){return[a("van-dropdown-menu",{staticStyle:{width:"180px"}},[a("van-dropdown-item",{attrs:{options:t.options},model:{value:t.ruleForm1.main_domain,callback:function(e){t.$set(t.ruleForm1,"main_domain",e)},expression:"ruleForm1.main_domain"}})],1)]},proxy:!0}]),model:{value:t.ruleForm1.qz,callback:function(e){t.$set(t.ruleForm1,"qz",e)},expression:"ruleForm1.qz"}})],1),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",color:"blue"===t.theme_name?"linear-gradient(90deg, #8ABBFF 0%, #5388FF 100%)":"linear-gradient(90deg, #555 0%, #282828 100%)","native-type":"submit"},on:{click:t.submitPopupData1}},[t._v(" 确定 "),t._l(t.tableData,(function(e,n){return a("span",{key:n,staticStyle:{float:"right"}},[parseInt(n)===t.ruleForm1.sid?a("span",[t._v("(¥"+t._s(e.price*t.ruleForm1.num)+"元)")]):t._e()])}))],2)],1)])],1),a("van-action-sheet",{attrs:{title:"升级站点",closeable:!1},on:{close:t.isclose},model:{value:t.show2,callback:function(e){t.show2=e},expression:"show2"}},[a("van-notice-bar",{attrs:{"left-icon":"volume-o",text:"请仔细核对信息,再进行操作!"}}),a("van-form",[a("div",{staticStyle:{padding:"20px 0"}},[a("van-field",{attrs:{readonly:"",clickable:"",value:t.value2,label:"站点版本",placeholder:"请选择站点版本",rules:[{required:!0,message:"请选择站点版本"}]},on:{click:function(e){t.showPicker2=!0}}}),a("van-popup",{attrs:{position:"bottom"},model:{value:t.showPicker2,callback:function(e){t.showPicker2=e},expression:"showPicker2"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:t.columns2},on:{confirm:t.onConfirm2,cancel:function(e){t.showPicker2=!1}}})],1)],1),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",color:"blue"===t.theme_name?"linear-gradient(90deg, #8ABBFF 0%, #5388FF 100%)":"linear-gradient(90deg, #555 0%, #282828 100%)","native-type":"submit"},on:{click:t.submitPopupData2}},[t._v(" 确定 "),0<(t.isprice/31536e3*(t.dataList.expire_time-(new Date).getTime()/1e3).toFixed(0)).toFixed(6)?a("span",[t._v("(补差价: ¥"+t._s((t.isprice/31536e3*(t.dataList.expire_time-(new Date).getTime()/1e3).toFixed(0)).toFixed(2))+")")]):t._e()])],1)])],1),a("van-action-sheet",{attrs:{title:"续费会员",closeable:!1},on:{close:t.isclose},model:{value:t.show3,callback:function(e){t.show3=e},expression:"show3"}},[a("van-notice-bar",{attrs:{"left-icon":"volume-o",text:"请仔细核对信息,再进行操作!"}}),a("van-form",[a("div",{staticStyle:{padding:"20px 0"}},[a("van-field",{attrs:{label:"续费时长(年)",min:"1"},scopedSlots:t._u([{key:"input",fn:function(){return[a("van-stepper",{model:{value:t.ruleForm3.num,callback:function(e){t.$set(t.ruleForm3,"num",e)},expression:"ruleForm3.num"}})]},proxy:!0}])})],1),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",color:"blue"===t.theme_name?"linear-gradient(90deg, #8ABBFF 0%, #5388FF 100%)":"linear-gradient(90deg, #555 0%, #282828 100%)","native-type":"submit"},on:{click:t.submitPopupData3}},[t._v(" 确定 "),t._l(t.tableData,(function(e,n){return a("span",{key:n,staticStyle:{float:"right"}},[parseInt(n)===t.dataList.version?a("span",[t._v("(¥"+t._s(e.price*t.ruleForm3.num)+"元)")]):t._e()])}))],2)],1)])],1)],1)],1)}),[],!1,null,null,null);e.default=a.exports}}]);