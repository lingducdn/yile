(window.webpackJsonp=window.webpackJsonp||[]).push([["premiumTemplate"],{"806f":function(e,l,t){"use strict";t.r(l),t("b0c0"),t("b680");var r={name:"PremiumTemplate",data:function(){return{breadList:[{name:"加价模板",id:"2"}],form:{page:1,list_rows:10},total:0,tableData:[],ruleForm:{name:"",type:1,sl_1:null,sl_2:null,sl_3:null,cl_1:null,cl_2:null,cl_3:null,cl_4:null},options6:[{value:1,label:"1点"},{value:.1,label:"10点"},{value:.04,label:"25点"},{value:.01,label:"1百点"},{value:.001,label:"1千点"},{value:1e-4,label:"1万点"},{value:1e-5,label:"10万点"}],rules:{type:[{required:!0,message:"请选择加价模式",trigger:"blur"}],name:[{required:!0,message:"请输入加价名称",trigger:"blur"}],sl_1:[{required:!0,message:"请输入普通版分站",trigger:"blur"}],sl_2:[{required:!0,message:"请输入专业版分站",trigger:"blur"}],sl_3:[{required:!0,message:"请输入旗舰版分站",trigger:"blur"}],cl_1:[{required:!0,message:"请输入普通会员",trigger:"blur"}],cl_2:[{required:!0,message:"请输入初级会员",trigger:"blur"}],cl_3:[{required:!0,message:"请输入中级会员",trigger:"blur"}],cl_4:[{required:!0,message:"请输入高级会员",trigger:"blur"}]},dialogTitle:"",dialogVisible:!1,num:1,num1:1,num2:1,theme_rgba:localStorage.getItem("theme_rgba")}},watch:{dialogVisible:function(e){e||(this.ruleForm={name:"",type:1,sl_1:null,sl_2:null,sl_3:null,cl_0:null,cl_1:null,cl_2:null,cl_3:null})}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;this.$http.goodsMarkUpPaging(this.form).then((function(l){0===l.code?(e.tableData=l.data.infos,e.total=l.data.count):e.$message({message:l.message,type:"error"})}))},add:function(){this.dialogTitle="添加模板",this.dialogVisible=!0},edit:function(e){var l=e.type,t=e.name,r=e.sl1,o=e.sl2,a=e.sl3,s=e.cl1,i=e.cl2,u=e.cl3,n=e.cl4;e=e.id;this.ruleForm={type:l,name:t,id:e,sl_1:parseFloat(r),sl_2:parseFloat(o),sl_3:parseFloat(a),cl_1:parseFloat(s),cl_2:parseFloat(i),cl_3:parseFloat(u),cl_4:parseFloat(n)},this.dialogTitle="修改模板",this.dialogVisible=!0},del:function(e){var l=this;this.$confirm("此操作将永久删除此条信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l.$http.goodsMarkUpDel({id:e}).then((function(e){0===e.code?(l.$message({message:"删除成功",type:"success"}),l.getData()):l.$message({message:e.message,type:"error"})}))}))},pagination:function(e){this.form.page=e.page,this.form.list_rows=e.limit,this.getData()},submitPopupData:function(e){var l=this;this.$refs[e].validate((function(t){t&&(l.ruleForm.sl_1=parseFloat(l.ruleForm.sl_1),l.ruleForm.sl_2=parseFloat(l.ruleForm.sl_2),l.ruleForm.sl_3=parseFloat(l.ruleForm.sl_3),l.ruleForm.cl_1=parseFloat(l.ruleForm.cl_1),l.ruleForm.cl_2=parseFloat(l.ruleForm.cl_2),l.ruleForm.cl_3=parseFloat(l.ruleForm.cl_3),l.ruleForm.cl_4=parseFloat(l.ruleForm.cl_4),"添加模板"===l.dialogTitle?l.$http.goodsMarkUpAdd(l.ruleForm).then((function(t){0===t.code?(l.$message({message:"添加成功",type:"success"}),l.$refs[e].resetFields(),l.dialogVisible=!1,l.getData()):l.$message({message:t.message,type:"error"})})):"修改模板"===l.dialogTitle&&l.$http.goodsMarkUpEdit(l.ruleForm).then((function(t){0===t.code?(l.$message({message:"修改成功",type:"success"}),l.$refs[e].resetFields(),l.dialogVisible=!1,l.getData()):l.$message({message:t.message,type:"error"})})))}))},resetPopupData:function(e){this.dialogVisible=!1,this.$refs[e].resetFields()},autoAdd:function(){this.ruleForm.sl_1=(3*this.num).toFixed(6),this.ruleForm.sl_2=(2*this.num).toFixed(6),this.ruleForm.sl_3=(+this.num).toFixed(6),this.ruleForm.cl_1=(7*this.num).toFixed(6),this.ruleForm.cl_2=(6*this.num).toFixed(6),this.ruleForm.cl_3=(5*this.num).toFixed(6),this.ruleForm.cl_4=(4*this.num).toFixed(6)},autoAdd1:function(){this.ruleForm.sl_1=(this.num1*this.num2*3).toFixed(6),this.ruleForm.sl_2=(this.num1*this.num2*2).toFixed(6),this.ruleForm.sl_3=(this.num1*this.num2*1).toFixed(6),this.ruleForm.cl_1=(this.num1*this.num2*7).toFixed(6),this.ruleForm.cl_2=(this.num1*this.num2*6).toFixed(6),this.ruleForm.cl_3=(this.num1*this.num2*5).toFixed(6),this.ruleForm.cl_4=(this.num1*this.num2*4).toFixed(6)}}};t=t("2877"),t=Object(t.a)(r,(function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",[t("breadcrumb",{attrs:{"bread-list":e.breadList}}),t("el-card",{staticClass:"box-card"},[t("el-form",{attrs:{inline:!0,size:e.terminal}},[t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v(" 添加 ")])],1)],1),[t("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:"","tooltip-effect":"light",data:e.tableData,"header-cell-style":{background:e.theme_rgba,color:"#363636"}}},[t("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"name",label:"模板名称"}}),t("el-table-column",{attrs:{align:"center",label:"加价模式",width:"140"},scopedSlots:e._u([{key:"default",fn:function(l){return[e._v(" "+e._s(1===l.row.type?"按百分比加价":"按金额加价")+" ")]}}])}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"sl3",label:"旗舰版分站",width:"120"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"sl2",label:"专业版分站",width:"120"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"sl1",label:"普通版分站",width:"120"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"cl4",label:"高级会员"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"cl3",label:"中级会员"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"cl2",label:"初级会员"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"cl1",label:"普通会员"}}),t("el-table-column",{attrs:{label:"创建时间",align:"center",width:"160"},scopedSlots:e._u([{key:"default",fn:function(l){return[e._v(" "+e._s(e._f("formatTimer")(l.row.create_time))+" ")]}}])}),t("el-table-column",{attrs:{label:"操作",width:"120",align:"center",fixed:"mini"!==e.terminal&&"right"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.edit(l.row)}}},[e._v(" 修改 ")]),t("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text"},on:{click:function(t){return e.del(l.row.id)}}},[e._v(" 删除 ")])]}}])})],1)],10<e.total?t("pagination",{attrs:{total:e.total,page:e.form.page,limit:e.form.list_rows,"page-sizes":[10,20,50,100]},on:{"update:page":function(l){return e.$set(e.form,"page",l)},"update:limit":function(l){return e.$set(e.form,"list_rows",l)},pagination:e.pagination}}):e._e()],2),t("popup",{attrs:{"dialog-title":e.dialogTitle,visible:e.dialogVisible,"popup-width":"mini"===e.terminal?"100%":"650px"},on:{"update:visible":function(l){e.dialogVisible=l},resetPopupData:function(l){return e.resetPopupData("ruleForm")},submitPopupData:function(l){return e.submitPopupData("ruleForm")},handleClose:function(l){return e.resetPopupData("ruleForm")}}},[t("div",[t("el-alert",{staticStyle:{"margin-bottom":"15px"},attrs:{title:"请仔细检查,再进行操作!",type:"warning","show-icon":"",closable:!1}}),t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"加价模式",prop:"type"}},[t("el-radio-group",{attrs:{size:"small"},model:{value:e.ruleForm.type,callback:function(l){e.$set(e.ruleForm,"type",e._n(l))},expression:"ruleForm.type"}},[t("el-radio-button",{attrs:{label:1}},[e._v(" 百分比 ")]),t("el-radio-button",{attrs:{label:2}},[e._v(" 金 额 ")])],1)],1),t("el-form-item",{attrs:{label:"模板名称",prop:"name"}},[t("el-input",{attrs:{placeholder:"模板名称"},model:{value:e.ruleForm.name,callback:function(l){e.$set(e.ruleForm,"name",l)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"旗舰分站",prop:"sl_3"}},[t("el-input",{attrs:{placeholder:"旗舰分站加价",oninput:"value=value.replace(/[^0-9.]/g,'')"},model:{value:e.ruleForm.sl_3,callback:function(l){e.$set(e.ruleForm,"sl_3",l)},expression:"ruleForm.sl_3"}},[1===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.sl_3||0)+"% ")]):e._e(),2===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.sl_3||0)+"元 ")]):e._e()],2)],1),t("el-form-item",{attrs:{label:"专业分站",prop:"sl_2"}},[t("el-input",{attrs:{placeholder:"专业分站加价",oninput:"value=value.replace(/[^0-9.]/g,'')"},model:{value:e.ruleForm.sl_2,callback:function(l){e.$set(e.ruleForm,"sl_2",l)},expression:"ruleForm.sl_2"}},[1===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.sl_2||0)+"% ")]):e._e(),2===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.sl_2||0)+"元 ")]):e._e()],2)],1),t("el-form-item",{attrs:{label:"普通分站",prop:"sl_1"}},[t("el-input",{attrs:{placeholder:"普通分站加价",oninput:"value=value.replace(/[^0-9.]/g,'')"},model:{value:e.ruleForm.sl_1,callback:function(l){e.$set(e.ruleForm,"sl_1",l)},expression:"ruleForm.sl_1"}},[1===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.sl_1||0)+"% ")]):e._e(),2===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.sl_1||0)+"元 ")]):e._e()],2)],1),t("el-form-item",{attrs:{label:"高级会员",prop:"cl_4"}},[t("el-input",{attrs:{placeholder:"高级会员加价",oninput:"value=value.replace(/[^0-9.]/g,'')"},model:{value:e.ruleForm.cl_4,callback:function(l){e.$set(e.ruleForm,"cl_4",l)},expression:"ruleForm.cl_4"}},[1===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.cl_4||0)+"% ")]):e._e(),2===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.cl_4||0)+"元 ")]):e._e()],2)],1),t("el-form-item",{attrs:{label:"中级会员",prop:"cl_3"}},[t("el-input",{attrs:{placeholder:"中级会员加价",oninput:"value=value.replace(/[^0-9.]/g,'')"},model:{value:e.ruleForm.cl_3,callback:function(l){e.$set(e.ruleForm,"cl_3",l)},expression:"ruleForm.cl_3"}},[1===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.cl_3||0)+"% ")]):e._e(),2===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.cl_3||0)+"元 ")]):e._e()],2)],1),t("el-form-item",{attrs:{label:"初级会员",prop:"cl_2"}},[t("el-input",{attrs:{placeholder:"初级会员加价",oninput:"value=value.replace(/[^0-9.]/g,'')"},model:{value:e.ruleForm.cl_2,callback:function(l){e.$set(e.ruleForm,"cl_2",l)},expression:"ruleForm.cl_2"}},[1===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.cl_2||0)+"% ")]):e._e(),2===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.cl_2||0)+"元 ")]):e._e()],2)],1),t("el-form-item",{attrs:{label:"普通会员",prop:"cl_1"}},[t("el-input",{attrs:{placeholder:"普通会员加价",oninput:"value=value.replace(/[^0-9.]/g,'')"},model:{value:e.ruleForm.cl_1,callback:function(l){e.$set(e.ruleForm,"cl_1",l)},expression:"ruleForm.cl_1"}},[1===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.cl_1||0)+"% ")]):e._e(),2===e.ruleForm.type?t("template",{slot:"append"},[e._v(" 加价"+e._s(e.ruleForm.cl_1||0)+"元 ")]):e._e()],2)],1)],1),e._v(" 差价递增工具: "),t("div",{staticStyle:{width:"100%",padding:"20px 20px","border-radius":"5px",border:"1px solid #C0C4CC","box-sizing":"border-box"}},[1===e.ruleForm.type?t("div",[e._v(" 按 "),t("el-input-number",{staticStyle:{width:"160px"},attrs:{step:1,size:"mini",max:"100",min:"1","step-strictly":""},model:{value:e.num,callback:function(l){e.num=e._n(l)},expression:"num"}}),t("span",{staticStyle:{color:"#666",margin:"6px"}},[e._v("百分比递增")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.autoAdd}},[e._v(" 计算并填入 ")])],1):e._e(),2===e.ruleForm.type?t("div",[t("div",[e._v(" 按 "),t("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入加价幅度",size:"mini"},model:{value:e.num1,callback:function(l){e.num1=l},expression:"num1"}},e._l(e.options6,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("span",{staticStyle:{color:"#333",margin:"6px"}},[e._v("固定差价递增")]),t("el-input",{staticStyle:{width:"130px"},attrs:{placeholder:"输入金额",type:"number",size:"mini"},model:{value:e.num2,callback:function(l){e.num2=l},expression:"num2"}}),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:e.autoAdd1}},[e._v(" 计算并填入 ")])],1),t("div",{staticStyle:{"margin-top":"20px"}},[e._v(" 按 "),t("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入加价幅度",type:"number",size:"mini"},model:{value:e.num,callback:function(l){e.num=l},expression:"num"}}),t("span",{staticStyle:{color:"#333",margin:"6px"}},[e._v("递增")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.autoAdd}},[e._v(" 计算并填入 ")])],1)]):e._e()])],1)])],1)}),[],!1,null,null,null);l.default=t.exports}}]);